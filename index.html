<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rock paper scissor</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <p style="margin-bottom: 20px;">Rock Paper Scissors</p>
    
        <button class="logo" onclick="computerMove();
        yourmove('rock');
       
        "><img class="img-poster"  src="rps/rock-emoji.png"></button>
    
    
        <button class="logo" onclick="computerMove();
        yourmove('paper');
        
        "><img class="img-poster"  src="rps/paper-emoji.png"></button>
    
        <button class="logo" onclick="computerMove();
        yourmove('scissor');
        "><img class="img-poster" src="rps/scissors-emoji.png"></button>
    
        <p class="result-para">you <img class="try" src=""><img class="comp" src=""> compy</p>
    
        <p class="final"></p>
    
        <p class="js-score"></p>
    
        <button onclick="
        score.win=0;
        score.lose=0;
        score.tie=0;
        localStorage.removeItem('score');
        updateScoreElement();
        
        ">reset score</button>
    </div>
    

    <script>
        let cumove = '';
        let yourMove =' ';
        let result= '';

         let score = JSON.parse(localStorage.getItem('score'));

         if(score===null){
            score = {
                win: 0,
                lose: 0,
                tie:0
            };
         }
        

    function yourmove(move){
        yourMove=move;

    if(yourMove==='rock'){
        if(yourMove===cumove){
            result = 'tie';
        }else if(cumove==='paper'){
            result = 'lose';
        }else if(cumove === 'scissor'){
            result = 'win';
        }
    }else if(yourMove==='paper'){
        if(yourMove===cumove){
            result = 'tie';
        }else if(cumove==='scissor'){
            result = 'lose';
        }else if(cumove === 'rock'){
            result = 'win';
        }
    }else if(yourMove==='scissor'){
        if(yourMove===cumove){
            result = 'tie';
        }else if(cumove==='rock'){
            result = 'lose';
        }else if(cumove === 'paper'){
            result = 'win';
        }
    }

   
    if(result==='win'){
        score.win++;
    }else if(result==='lose'){
        score.lose++;
    }else if(result==='tie'){
        score.tie++;
    }

    updateScoreElement();
    inserImages();
    cooked();


    

   


   
  // alert(`${result} , your move ${yourMove} and computermove ${cumove}`);


   }

    
        function computerMove(){
            
            const randomNumber = Math.random();

            if(randomNumber >= 0 && randomNumber < 1/3){
                cumove = "rock";
            }else if( randomNumber >=2/3 && randomNumber<1){
                cumove = "paper";
            }else {
                cumove = "scissor";
            }

           // console.log(cumove);
           localStorage.setItem('score',JSON.stringify(score));

        
           
        }
        function updateScoreElement(){
            document.querySelector('.js-score').innerHTML =` win:${score.win}  lose:${score.lose} tie:${score.tie}`
           }

        //function shi(){

        let whatamdoing = document.querySelector('.result-para');
        console.log(whatamdoing);

        function inserImages(){
            let tryImg = document.querySelector('img.try');
            const compImg = document.querySelector('img.comp');

            if(yourMove==='rock'){
                tryImg.src="rps/rock-emoji.png";
            }else if(yourMove==='paper'){
                tryImg.src="rps/paper-emoji.png";
            }else if(yourMove==='scissor'){
                tryImg.src="rps/scissors-emoji.png";
            }

            if(cumove==='rock'){
                compImg.src="rps/rock-emoji.png";
            }else if(cumove==='paper'){
               compImg.src="rps/paper-emoji.png";
            }else if(cumove==='scissor'){
                compImg.src="rps/scissors-emoji.png";
            }
        }
        
        let finnacook = document.querySelector('.final');
        
        function cooked(){
            if(result==='win'){
                finnacook.innerHTML = 'you win brother!';
            }else if(result ==='lose'){
                finnacook.innerHTML = 'you lose brother!!!!';
            }else if(result ==='tie'){
                finnacook.innerHTML = 'oh! its tie';
            }

        }

       // whatamdoing.innerHTML=(` your move ${yourMove} and //computermove ${cumove}`);
        
            
            
        
    
    
    
    

      

        
     
        
        



    </script>
</body>
</html>
